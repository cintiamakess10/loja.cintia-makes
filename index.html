<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#ff4fa3" />
  <title>Cintia Makess | Loja Oficial</title>
  <style>
    :root{
      --bg:#fff7fb;
      --card:#ffffff;
      --text:#1f1f24;
      --muted:#666a73;
      --brand:#ff4fa3;
      --brand2:#7c3aed;
      --ok:#16a34a;
      --warn:#f59e0b;
      --danger:#ef4444;
      --line:#e9e2ea;
      --shadow: 0 10px 30px rgba(31,31,36,.08);
      --radius: 18px;
      --radius2: 24px;
      --max: 1100px;
      --focus: 0 0 0 4px rgba(255,79,163,.18);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 400px at 10% 0%, rgba(255,79,163,.14), transparent 60%),
        radial-gradient(900px 400px at 90% 10%, rgba(124,58,237,.12), transparent 60%),
        var(--bg);
    }
    a{color:inherit}
    .container{max-width:var(--max); margin:0 auto; padding:18px}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border:1px solid var(--line); background:#fff;
      border-radius:999px; color:var(--muted); font-size:13px;
    }
    .btn{
      border:0; border-radius:14px; padding:12px 14px; cursor:pointer;
      font-weight:700; transition:.15s transform, .15s filter, .15s box-shadow, .15s background;
      display:inline-flex; align-items:center; justify-content:center; gap:10px;
      user-select:none;
    }
    .btn:active{transform:translateY(1px)}
    .btn:focus{outline:none; box-shadow:var(--focus)}
    .btn-primary{
      background:linear-gradient(135deg, var(--brand), #ff78bf);
      color:#fff;
      box-shadow: 0 12px 28px rgba(255,79,163,.22);
    }
    .btn-primary:hover{filter:saturate(1.05) brightness(1.02)}
    .btn-ghost{
      background:#fff; border:1px solid var(--line); color:var(--text);
    }
    .btn-ghost:hover{background:#fff; filter:brightness(.98)}
    .btn-danger{
      background:#fff; border:1px solid rgba(239,68,68,.35); color:var(--danger);
    }
    .btn-whats{
      background:linear-gradient(135deg, #10b981, #22c55e);
      color:#fff; box-shadow: 0 12px 28px rgba(34,197,94,.18);
    }
    .btn-small{padding:10px 12px; border-radius:12px; font-size:14px}
    .badge{
      font-size:12px; font-weight:800;
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:#fff;
    }
    .badge.ok{border-color:rgba(22,163,74,.25); color:var(--ok); background:rgba(22,163,74,.06)}
    .badge.low{border-color:rgba(245,158,11,.30); color:#a16207; background:rgba(245,158,11,.08)}
    .badge.out{border-color:rgba(239,68,68,.35); color:var(--danger); background:rgba(239,68,68,.06)}
    header{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(255,247,251,.92), rgba(255,247,251,.70));
      border-bottom:1px solid rgba(233,226,234,.65);
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:14px 18px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:900; letter-spacing:.2px;
    }
    .logo{
      width:38px; height:38px; border-radius:14px;
      background: radial-gradient(circle at 30% 20%, #ffd1e8, #ff4fa3 60%, #b83280 110%);
      box-shadow: 0 14px 30px rgba(255,79,163,.22);
      position:relative;
    }
    .logo:after{
      content:""; position:absolute; inset:10px;
      border-radius:10px; border:2px solid rgba(255,255,255,.75);
      transform:rotate(6deg);
    }
    .brand small{display:block; font-weight:700; color:var(--muted); margin-top:2px}
    .navactions{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end}
    .searchWrap{
      flex:1; display:flex; align-items:center; gap:10px;
      max-width:520px; margin: 10px auto 0; padding:0 18px 12px;
    }
    .search{
      width:100%;
      background:#fff; border:1px solid var(--line);
      border-radius:16px; padding:12px 14px;
      box-shadow: 0 10px 25px rgba(31,31,36,.05);
      outline:none;
    }
    .search:focus{box-shadow:var(--focus), 0 10px 25px rgba(31,31,36,.05)}
    .hero{
      padding:22px 0 8px;
    }
    .heroGrid{
      display:grid; grid-template-columns: 1.3fr .7fr; gap:16px;
      align-items:stretch;
    }
    .panel{
      background:linear-gradient(135deg, rgba(255,79,163,.16), rgba(124,58,237,.10));
      border:1px solid rgba(233,226,234,.75);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .panel:before{
      content:""; position:absolute; right:-60px; top:-60px;
      width:220px; height:220px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(255,255,255,0));
      transform: rotate(14deg);
      pointer-events:none;
    }
    .panel h1{
      margin:0 0 8px;
      font-size:28px;
      letter-spacing:-.4px;
    }
    .panel p{margin:0 0 14px; color:var(--muted); line-height:1.45}
    .panel .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .mini{
      background:#fff;
      border:1px solid rgba(233,226,234,.85);
      border-radius:var(--radius2);
      padding:18px;
      box-shadow: var(--shadow);
      display:flex; flex-direction:column; justify-content:space-between;
    }
    .mini h2{margin:0 0 8px; font-size:16px}
    .mini p{margin:0 0 12px; color:var(--muted); font-size:14px; line-height:1.35}
    .mini .help{display:flex; gap:10px; flex-wrap:wrap}
    .chips{
      display:flex; gap:8px; flex-wrap:wrap;
      padding: 6px 0 10px;
    }
    .chip{
      padding:9px 12px; border-radius:999px;
      border:1px solid var(--line);
      background:#fff;
      font-weight:800; font-size:13px;
      cursor:pointer;
      transition:.15s background, .15s transform, .15s border;
    }
    .chip:hover{transform:translateY(-1px)}
    .chip.active{
      background:linear-gradient(135deg, rgba(255,79,163,.15), rgba(124,58,237,.10));
      border-color:rgba(255,79,163,.35);
    }
    main{padding: 10px 0 40px}
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    @media (max-width: 980px){
      .heroGrid{grid-template-columns:1fr}
      .grid{grid-template-columns: repeat(2, 1fr)}
      .searchWrap{max-width:100%}
    }
    @media (max-width: 620px){
      .grid{grid-template-columns: 1fr}
      .panel h1{font-size:24px}
    }
    .card{
      background:var(--card);
      border:1px solid rgba(233,226,234,.9);
      border-radius:var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 100%;
    }
    .img{
      background: linear-gradient(135deg, rgba(255,79,163,.08), rgba(124,58,237,.06));
      border-bottom:1px solid rgba(233,226,234,.9);
      aspect-ratio: 4 / 3;
      display:flex; align-items:center; justify-content:center;
      position:relative;
    }
    .img img{
      width:100%; height:100%; object-fit:cover; display:block;
    }
    .img .ph{
      color:rgba(31,31,36,.55);
      font-weight:900;
      padding:14px 16px;
      text-align:center;
      line-height:1.2;
    }
    .content{padding:14px 14px 12px}
    .titleRow{
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      margin-bottom:8px;
    }
    .content h3{margin:0; font-size:16px; line-height:1.2}
    .price{
      font-weight:950; color:var(--ok);
      background:rgba(22,163,74,.08);
      border:1px solid rgba(22,163,74,.20);
      padding:6px 10px;
      border-radius:999px;
      white-space:nowrap;
    }
    .meta{
      display:flex; gap:8px; flex-wrap:wrap;
      margin: 8px 0 10px;
    }
    .desc{
      color:var(--muted); font-size:13px; line-height:1.45;
      margin:0 0 10px;
      min-height: 54px;
    }
    .cta{
      display:flex; gap:10px; padding: 0 14px 14px; margin-top:auto;
    }
    .cta .btn{flex:1}
    .btn-buy{
      background:linear-gradient(135deg, #ff4fa3, #ff78bf);
      color:#fff;
      box-shadow: 0 12px 28px rgba(255,79,163,.22);
      border:0;
    }
    .btn-buy:hover{filter:brightness(1.02) saturate(1.05)}
    .btn-info{
      background:#fff;
      border:1px solid var(--line);
      color:var(--text);
    }

    /* Drawer (Carrinho) */
    .overlay{
      position:fixed; inset:0; background:rgba(15,15,18,.35);
      display:none; z-index:80;
    }
    .overlay.show{display:block}
    .drawer{
      position:fixed; right:-420px; top:0; height:100%; width:420px;
      max-width: 92vw;
      background:#fff;
      border-left:1px solid rgba(233,226,234,.9);
      box-shadow: -20px 0 50px rgba(0,0,0,.14);
      z-index:90;
      transition: right .22s ease;
      display:flex; flex-direction:column;
    }
    .drawer.show{right:0}
    .dhead{
      padding:16px; border-bottom:1px solid rgba(233,226,234,.9);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .dhead h3{margin:0; font-size:16px}
    .dbody{padding:14px 16px; overflow:auto; flex:1}
    .item{
      border:1px solid rgba(233,226,234,.9);
      border-radius:16px;
      padding:12px;
      display:grid;
      grid-template-columns: 52px 1fr;
      gap:10px;
      margin-bottom:10px;
      background: linear-gradient(135deg, rgba(255,79,163,.06), rgba(124,58,237,.04));
    }
    .thumb{
      width:52px; height:52px; border-radius:14px;
      background:#fff; border:1px solid rgba(233,226,234,.9);
      overflow:hidden; display:flex; align-items:center; justify-content:center;
    }
    .thumb img{width:100%; height:100%; object-fit:cover}
    .itTitle{margin:0; font-weight:900; font-size:13px; line-height:1.2}
    .itMeta{margin:2px 0 8px; color:var(--muted); font-size:12px}
    .qtyRow{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .qty{
      display:inline-flex; align-items:center; gap:8px;
      background:#fff; border:1px solid rgba(233,226,234,.9);
      border-radius:999px; padding:6px 8px;
    }
    .qty button{
      width:28px; height:28px; border-radius:999px; border:1px solid rgba(233,226,234,.9);
      background:#fff; font-weight:900; cursor:pointer;
    }
    .qty button:focus{outline:none; box-shadow:var(--focus)}
    .qty span{min-width:18px; text-align:center; font-weight:900}
    .remove{
      border:0; background:transparent; color:var(--danger);
      font-weight:900; cursor:pointer;
    }
    .df{
      padding:14px 16px; border-top:1px solid rgba(233,226,234,.9);
      background: linear-gradient(to top, rgba(255,79,163,.06), rgba(255,79,163,0));
    }
    .totalRow{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      margin-bottom:12px;
    }
    .totalRow strong{font-size:16px}
    .small{color:var(--muted); font-size:12px; line-height:1.35}

    /* Modal */
    dialog{
      width:min(760px, 94vw);
      border:1px solid rgba(233,226,234,.9);
      border-radius:22px;
      box-shadow: 0 30px 90px rgba(0,0,0,.22);
      padding:0;
      overflow:hidden;
    }
    dialog::backdrop{background:rgba(15,15,18,.45)}
    .mhead{
      padding:16px; border-bottom:1px solid rgba(233,226,234,.9);
      display:flex; align-items:flex-start; justify-content:space-between; gap:10px;
      background: linear-gradient(135deg, rgba(255,79,163,.10), rgba(124,58,237,.06));
    }
    .mhead h3{margin:0; font-size:16px}
    .mbody{padding:16px}
    .mgrid{display:grid; grid-template-columns: 1fr 1fr; gap:14px}
    @media (max-width:720px){.mgrid{grid-template-columns:1fr}}
    .field label{display:block; font-weight:900; font-size:12px; margin:0 0 6px}
    .field input,.field textarea,.field select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(233,226,234,.95);
      background:#fff;
      outline:none;
    }
    .field textarea{min-height:96px; resize:vertical}
    .field input:focus,.field textarea:focus,.field select:focus{box-shadow:var(--focus)}
    .mbottom{
      padding:16px;
      border-top:1px solid rgba(233,226,234,.9);
      display:flex; gap:10px; flex-wrap:wrap;
      justify-content:flex-end;
      background:#fff;
    }

    /* Reviews */
    .sectionTitle{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin:22px 0 12px;
    }
    .sectionTitle h2{margin:0; font-size:18px}
    .reviews{
      background:#fff; border:1px solid rgba(233,226,234,.9);
      border-radius:var(--radius2);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .tabs{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:12px}
    .tab{
      padding:10px 12px; border-radius:999px;
      border:1px solid var(--line); background:#fff;
      font-weight:900; cursor:pointer;
    }
    .tab.active{
      background:linear-gradient(135deg, rgba(255,79,163,.15), rgba(124,58,237,.10));
      border-color:rgba(255,79,163,.35);
    }
    .stars{
      display:flex; gap:6px; align-items:center; flex-wrap:wrap;
      margin: 8px 0 10px;
    }
    .starBtn{
      width:40px; height:40px; border-radius:14px;
      border:1px solid rgba(233,226,234,.95);
      background:#fff;
      cursor:pointer;
      font-size:18px;
      display:flex; align-items:center; justify-content:center;
    }
    .starBtn.on{background:rgba(245,158,11,.12); border-color:rgba(245,158,11,.35)}
    .revList{margin:12px 0 0; display:grid; gap:10px}
    .rev{
      border:1px solid rgba(233,226,234,.9);
      border-radius:16px;
      padding:12px;
      background: linear-gradient(135deg, rgba(124,58,237,.05), rgba(255,79,163,.05));
    }
    .revTop{display:flex; align-items:center; justify-content:space-between; gap:10px}
    .revTop strong{font-size:13px}
    .revTop span{font-size:12px; color:var(--muted)}
    .rev p{margin:8px 0 0; color:var(--text); line-height:1.4}
    .footer{
      margin-top:22px;
      color:var(--muted);
      font-size:13px;
      padding: 18px 0 26px;
      text-align:center;
    }
    .hint{
      background:rgba(255,79,163,.06);
      border:1px dashed rgba(255,79,163,.35);
      border-radius:16px;
      padding:10px 12px;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }
  </style>
</head>

<body>
<header>
  <div class="topbar container">
    <div class="brand" role="banner" aria-label="Cintia Makess">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div style="font-size:16px">Cintia Makess</div>
        <small>Loja para todas as idades ‚Ä¢ Tudo por R$ 10,00</small>
      </div>
    </div>

    <div class="navactions">
      <span class="pill" title="WhatsApp de atendimento">
        üìû WhatsApp: <strong id="waShow">+55 15 97407-2640</strong>
      </span>
      <button class="btn btn-ghost btn-small" id="btnHuman">üë©‚Äçüí¨ Atendimento humano</button>
      <button class="btn btn-primary btn-small" id="btnCart">üõí Carrinho <span id="cartCount" class="badge">0</span></button>
    </div>
  </div>

  <div class="searchWrap container">
    <input id="search" class="search" placeholder="Buscar produtos (ex: base, bruma, skincare, papelaria...)" />
  </div>
</header>

<section class="hero container">
  <div class="heroGrid">
    <div class="panel">
      <h1>Sua compra f√°cil, r√°pida e com atendimento de verdade üíñ</h1>
      <p>
        Aqui na <strong>Cintia Makess</strong> voc√™ compra com confian√ßa: carrinho simples, bot√µes de compra bem destacados,
        e se quiser, voc√™ fala com uma pessoa real no WhatsApp.
      </p>
      <div class="row">
        <button class="btn btn-primary" id="btnBest">Ver produtos em destaque</button>
        <button class="btn btn-whats" id="btnWhatsTop">Chamar no WhatsApp</button>
        <span class="pill">‚úÖ Todos os produtos: <strong>R$ 10,00</strong></span>
      </div>
    </div>

    <div class="mini">
      <div>
        <h2>Precisa de ajuda pra escolher?</h2>
        <p>
          Clique em <strong>Atendimento humano</strong> e mande sua d√∫vida. A gente te ajuda a escolher o melhor produto.
        </p>
      </div>
      <div class="help">
        <button class="btn btn-ghost" id="btnReviewsGo">‚≠ê Avaliar site/loja</button>
        <button class="btn btn-whats" id="btnWhatsMini">üí¨ Falar agora</button>
      </div>
    </div>
  </div>

  <div class="chips" aria-label="Categorias">
    <button class="chip active" data-cat="all">Tudo</button>
    <button class="chip" data-cat="Maquiagem">Maquiagem</button>
    <button class="chip" data-cat="Skincare">Skincare</button>
    <button class="chip" data-cat="Papelaria">Papelaria</button>
    <button class="chip" data-cat="Prepara√ß√£o">Prepara√ß√£o de pele</button>
  </div>
</section>

<main class="container">
  <div class="sectionTitle">
    <h2>Produtos (R$ 10,00 cada)</h2>
    <div class="pill" id="resultsInfo">Mostrando: 0</div>
  </div>

  <div class="hint" style="margin-bottom:12px">
    üì∏ <strong>Fotos:</strong> troque os campos de imagem (ex: <code>images/micelar.jpg</code>) pelos seus arquivos.
    Deixe as imagens numa pasta <code>images/</code> ao lado do <code>index.html</code>.
  </div>

  <div class="grid" id="productGrid" aria-live="polite"></div>

  <div class="sectionTitle" id="avaliacoes">
    <h2>Avalia√ß√µes (Site e Loja F√≠sica)</h2>
    <div class="pill">0 a 5 estrelas + coment√°rios</div>
  </div>

  <section class="reviews" aria-label="Avalia√ß√µes">
    <div class="tabs">
      <button class="tab active" data-revtab="site">Avaliar o Site</button>
      <button class="tab" data-revtab="loja">Avaliar a Loja F√≠sica</button>
    </div>

    <div class="mgrid">
      <div>
        <div class="field">
          <label>Seu nome (opcional)</label>
          <input id="revName" placeholder="Ex: Ana" />
        </div>

        <div class="field" style="margin-top:10px">
          <label>Nota (0 a 5 estrelas)</label>
          <div class="stars" id="starRow" role="radiogroup" aria-label="Selecionar estrelas"></div>
          <div class="small" id="starHelp">Selecione uma nota (pode ser 0 tamb√©m).</div>
        </div>
      </div>

      <div>
        <div class="field">
          <label>Coment√°rio</label>
          <textarea id="revText" placeholder="Conte como foi sua experi√™ncia üôÇ"></textarea>
        </div>
        <div class="mbottom" style="padding:0; border:0; margin-top:10px; justify-content:flex-start">
          <button class="btn btn-primary" id="btnSendReview">Enviar avalia√ß√£o</button>
          <button class="btn btn-ghost" id="btnClearReviews">Limpar minhas avalia√ß√µes</button>
        </div>
        <p class="small">As avalia√ß√µes ficam salvas neste aparelho (n√£o v√£o para a internet automaticamente).</p>
      </div>
    </div>

    <div class="sectionTitle" style="margin-top:14px">
      <h2 style="font-size:16px; margin:0">Avalia√ß√µes recentes</h2>
      <div class="pill" id="avgInfo">M√©dia: ‚Äî</div>
    </div>
    <div class="revList" id="revList"></div>
  </section>

  <div class="footer">
    <strong>Cintia Makess</strong> ‚Ä¢ Atendimento no WhatsApp: <strong>+55 15 97407-2640</strong><br/>
    Feito para ser simples, r√°pido e agrad√°vel ‚Äî para todas as idades üíñ
  </div>
</main>

<!-- Overlay + Drawer (Carrinho) -->
<div class="overlay" id="overlay"></div>
<aside class="drawer" id="drawer" aria-label="Carrinho de compras">
  <div class="dhead">
    <h3>üõí Seu Carrinho</h3>
    <button class="btn btn-ghost btn-small" id="btnCloseCart">Fechar</button>
  </div>

  <div class="dbody" id="cartBody"></div>

  <div class="df">
    <div class="totalRow">
      <div>
        <strong>Total</strong>
        <div class="small" id="totalSmall">Itens: 0</div>
      </div>
      <strong id="totalValue">R$ 0,00</strong>
    </div>
    <button class="btn btn-primary" id="btnCheckout">Finalizar compra</button>
    <div class="small" style="margin-top:8px">
      Preferir falar com algu√©m? <button class="btn btn-whats btn-small" id="btnHuman2">Atendimento humano</button>
    </div>
  </div>
</aside>

<!-- Modal: Detalhes do produto -->
<dialog id="dlgProduct">
  <div class="mhead">
    <div>
      <h3 id="dlgTitle">Produto</h3>
      <div class="small" id="dlgCat">Categoria</div>
    </div>
    <button class="btn btn-ghost btn-small" id="dlgClose">Fechar</button>
  </div>
  <div class="mbody">
    <div class="mgrid">
      <div class="card" style="box-shadow:none">
        <div class="img" style="aspect-ratio: 1/1">
          <img id="dlgImg" alt="" style="display:none" />
          <div class="ph" id="dlgPh">Adicione a foto do produto</div>
        </div>
      </div>
      <div>
        <div class="pill" style="margin-bottom:10px">üí∞ R$ 10,00</div>
        <p class="desc" id="dlgDesc" style="min-height:auto"></p>
        <div class="meta" id="dlgMeta"></div>
        <div class="cta" style="padding:0">
          <button class="btn btn-buy" id="dlgAdd">ADICIONAR AO CARRINHO</button>
          <button class="btn btn-whats" id="dlgWhats">COMPRAR NO WHATSAPP</button>
        </div>
        <p class="small" style="margin-top:10px">
          Estoque atual: <strong id="dlgStock"></strong> ‚Ä¢ Estoque m√≠nimo: <strong id="dlgMin"></strong>
        </p>
      </div>
    </div>
  </div>
</dialog>

<!-- Modal: Checkout -->
<dialog id="dlgCheckout">
  <div class="mhead">
    <div>
      <h3>‚úÖ Finalizar compra</h3>
      <div class="small">Preencha rapidinho e envie o pedido no WhatsApp</div>
    </div>
    <button class="btn btn-ghost btn-small" id="ckClose">Fechar</button>
  </div>
  <div class="mbody">
    <div class="mgrid">
      <div>
        <div class="field">
          <label>Seu nome</label>
          <input id="ckName" placeholder="Ex: Maria" />
        </div>
        <div class="field" style="margin-top:10px">
          <label>Forma de retirada/entrega</label>
          <select id="ckMode">
            <option value="Retirada">Retirada</option>
            <option value="Entrega">Entrega</option>
          </select>
        </div>
        <div class="field" style="margin-top:10px">
          <label>Endere√ßo (se for entrega)</label>
          <textarea id="ckAddress" placeholder="Rua, n√∫mero, bairro, refer√™ncia..."></textarea>
        </div>
      </div>
      <div>
        <div class="field">
          <label>Forma de pagamento</label>
          <select id="ckPay">
            <option value="PIX">PIX</option>
            <option value="Dinheiro">Dinheiro</option>
            <option value="Cart√£o">Cart√£o</option>
          </select>
        </div>
        <div class="field" style="margin-top:10px">
          <label>Observa√ß√µes (opcional)</label>
          <textarea id="ckObs" placeholder="Ex: sem pressa / preciso para hoje / mandar foto antes..."></textarea>
        </div>

        <div class="hint" style="margin-top:10px">
          Ao clicar em <strong>Enviar no WhatsApp</strong>, o pedido vai com a lista de itens, total e seus dados.
        </div>
      </div>
    </div>

    <div class="mbottom">
      <button class="btn btn-ghost" id="ckBackToCart">Voltar ao carrinho</button>
      <button class="btn btn-whats" id="ckSend">üì≤ Enviar pedido no WhatsApp</button>
    </div>
  </div>
</dialog>

<script>
  const APP = {
    storeName: "Cintia Makess",
    whatsapp: "5515974072640", // formato correto (sem espa√ßos/h√≠fen)
    price: 10.00,
    products: [
      {
        id:"micelar-camomila-120",
        name:"√Ågua Micelar de Camomila - Super Poderes (120ml)",
        category:"Skincare",
        sub:"Skincare / Cuidados Faciais",
        stock: 24, min: 1,
        img:"images/micelar-camomila.jpg",
        short:"Limpa, acalma e refresca a pele sem agredir. Uso di√°rio.",
        desc:`Sua pele merece um momento de calma e limpeza profunda.
A √Ågua Micelar de Camomila Super Poderes remove maquiagem e impurezas e ajuda a acalmar a pele com extrato de camomila.
Leve, refrescante e pr√°tica ‚Äî n√£o precisa enx√°gue.`,
        benefits:["Remove maquiagem e impurezas","Limpeza suave e eficaz","A√ß√£o calmante e refrescante","Uso di√°rio","N√£o necessita enx√°gue"]
      },
      {
        id:"base-angel",
        name:"Base L√≠quida Angels",
        category:"Maquiagem",
        sub:"Maquiagem / Pele",
        stock: 24, min: 1,
        img:"images/base-angel.jpg",
        short:"Textura leve e f√°cil de aplicar. Uniformiza a pele com acabamento natural.",
        desc:`Uma pele uniforme e bonita em poucos segundos.
A Base L√≠quida Angels tem textura leve, boa cobertura sem pesar e acabamento natural. Perfeita para o dia a dia ou para caprichar.`,
        benefits:["Textura leve","F√°cil de espalhar","Uniformiza o tom","Acabamento natural","Boa cobertura sem pesar"]
      },
      {
        id:"base-matte-prova-agua-45",
        name:"Base Matte Prova d‚Äô√Ågua (45ml)",
        category:"Maquiagem",
        sub:"Maquiagem / Pele",
        stock: 24, min: 1,
        img:"images/base-matte-45.jpg",
        short:"Acabamento matte, boa durabilidade e ajuda a controlar o brilho.",
        desc:`Cobertura bonita, pele sequinha e maquiagem no lugar por muito mais tempo.
A Base Matte Prova d‚Äô√Ågua ajuda a controlar o brilho e manter a maquiagem firme ao longo do dia.`,
        benefits:["Acabamento matte","Prova d‚Äô√°gua","Boa durabilidade","Ajuda a controlar a oleosidade","Cobertura uniforme"]
      },
      {
        id:"batom-liquido-mood",
        name:"Batom L√≠quido Mood",
        category:"Maquiagem",
        sub:"Maquiagem / L√°bios",
        stock: 15, min: 1,
        img:"images/batom-mood.jpg",
        short:"Cor intensa e aplica√ß√£o f√°cil. Ideal para o dia a dia ou ocasi√µes especiais.",
        desc:`Cor intensa, l√°bios lindos e conforto o dia todo.
O Batom L√≠quido Mood entrega boa cobertura e acabamento bonito desde a primeira aplica√ß√£o.`,
        benefits:["Cor intensa e uniforme","Textura confort√°vel","F√°cil de aplicar","Acabamento bonito","Vers√°til"]
      },
      {
        id:"blindagem-3em1",
        name:"Blindagem 3 em 1 ‚Äì Primer, Fixador e Diluidor",
        category:"Prepara√ß√£o",
        sub:"Maquiagem / Prepara√ß√£o de Pele",
        stock: 36, min: 1,
        img:"images/blindagem-3em1.jpg",
        short:"3 em 1: primer, fixador e diluidor. Mais durabilidade e acabamento perfeito.",
        desc:`Mais durabilidade, mais fixa√ß√£o e mais versatilidade em um s√≥ produto.
Use como primer antes, como fixador depois, ou como diluidor misturando gotinhas na base/sombra.`,
        benefits:["3 fun√ß√µes em 1","Aumenta a durabilidade","Melhora o acabamento","Vers√°til para v√°rios produtos","√ìtimo custo-benef√≠cio"]
      },
      {
        id:"blush-liquido",
        name:"Blush L√≠quido",
        category:"Maquiagem",
        sub:"Maquiagem / Rosto",
        stock: 24, min: 1,
        img:"images/blush-liquido.jpg",
        short:"Efeito natural e aplica√ß√£o f√°cil. Real√ßa o rosto com leveza.",
        desc:`Um toque de cor natural para deixar o rosto com apar√™ncia saud√°vel.
Textura leve, f√°cil de espalhar e permite construir camadas do suave ao marcante.`,
        benefits:["Textura leve","Acabamento natural","Cor uniforme","N√£o pesa","Constru√ß√£o em camadas"]
      },
      {
        id:"bobbie-goods-kit",
        name:"Bobbie Goods ‚Äì Cards + Canetinhas",
        category:"Papelaria",
        sub:"Papelaria / Criatividade",
        stock: 4, min: 1,
        img:"images/bobbie-goods.jpg",
        short:"Kit criativo com cards e canetinhas para colorir e se divertir.",
        desc:`Criatividade, divers√£o e imagina√ß√£o em um s√≥ kit.
Cards ilustrados + canetinhas para colorir, relaxar, estudar e presentear. √ìtimo para todas as idades.`,
        benefits:["Estimula criatividade","Divers√£o e relaxamento","F√°cil de usar","√ìtimo presente","Pr√°tico e compacto"]
      },
      {
        id:"bruma-200-hialuronico",
        name:"Bruma Fixadora 200+ com √Åcido Hialur√¥nico (200ml)",
        category:"Skincare",
        sub:"Maquiagem / Skincare / Prepara√ß√£o de Pele",
        stock: 6, min: 1,
        img:"images/bruma-200.jpg",
        short:"Hidrata, refresca e ajuda a fixar a maquiagem. Uso antes/durante/depois.",
        desc:`Hidrata√ß√£o, frescor e maquiagem no lugar por mais tempo.
A Bruma Fixadora 200+ com √°cido hialur√¥nico pode ser usada antes, durante e depois da maquiagem, deixando a pele confort√°vel.`,
        benefits:["Ajuda a fixar","Com √°cido hialur√¥nico","Hidrata e refresca","Sensa√ß√£o leve","Uso vers√°til"]
      }
    ],
    cart: new Map(),
    filters: { q:"", cat:"all" },
    reviewTab: "site",
    reviewStars: 0,
  };

  // Helpers
  const money = (v) => v.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});
  const qs = (s) => document.querySelector(s);
  const qsa = (s) => Array.from(document.querySelectorAll(s));

  function stockBadge(p){
    if (p.stock <= 0) return `<span class="badge out">Sem estoque</span>`;
    if (p.stock <= Math.max(3, p.min)) return `<span class="badge low">√öltimas ${p.stock}</span>`;
    return `<span class="badge ok">Em estoque</span>`;
  }

  function categoryLabel(cat){
    if (cat === "Prepara√ß√£o") return "Prepara√ß√£o de pele";
    return cat;
  }

  function renderProducts(){
    const grid = qs("#productGrid");
    const q = APP.filters.q.trim().toLowerCase();
    const cat = APP.filters.cat;

    const list = APP.products.filter(p=>{
      const inCat = cat === "all" ? true : p.category === cat;
      const text = (p.name+" "+p.sub+" "+p.short+" "+p.desc).toLowerCase();
      const inQ = q ? text.includes(q) : true;
      return inCat && inQ;
    });

    qs("#resultsInfo").textContent = `Mostrando: ${list.length}`;

    grid.innerHTML = list.map(p=>{
      const hasImg = !!p.img;
      const imgHTML = `
        <div class="img">
          <img src="${p.img}" alt="${p.name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" />
          <div class="ph" style="display:none">Adicione a foto do produto<br/><small style="opacity:.75">${p.id}</small></div>
        </div>
      `;
      return `
        <article class="card">
          ${imgHTML}
          <div class="content">
            <div class="titleRow">
              <h3>${p.name}</h3>
              <div class="price">${money(APP.price)}</div>
            </div>
            <div class="meta">
              <span class="badge">${categoryLabel(p.category)}</span>
              ${stockBadge(p)}
              <span class="badge">Estoque: ${p.stock}</span>
            </div>
            <p class="desc">${p.short}</p>
          </div>
          <div class="cta">
            <button class="btn btn-buy" onclick="addToCart('${p.id}')">COMPRAR</button>
            <button class="btn btn-info" onclick="openProduct('${p.id}')">Detalhes</button>
          </div>
        </article>
      `;
    }).join("");
  }

  function cartCount(){
    let n=0;
    for (const [,qty] of APP.cart) n+=qty;
    return n;
  }

  function cartTotal(){
    return cartCount() * APP.price;
  }

  function syncCartUI(){
    qs("#cartCount").textContent = cartCount();
    qs("#totalValue").textContent = money(cartTotal());
    qs("#totalSmall").textContent = `Itens: ${cartCount()}`;

    const body = qs("#cartBody");
    const entries = Array.from(APP.cart.entries());
    if (entries.length === 0){
      body.innerHTML = `
        <div class="hint">
          Seu carrinho est√° vazio.<br/>
          Clique em <strong>COMPRAR</strong> em qualquer produto para adicionar.
        </div>
      `;
      return;
    }

    body.innerHTML = entries.map(([id, qty])=>{
      const p = APP.products.find(x=>x.id===id);
      const img = p?.img || "";
      return `
        <div class="item">
          <div class="thumb">
            <img src="${img}" alt="" onerror="this.style.display='none'" />
          </div>
          <div>
            <p class="itTitle">${p?.name || "Produto"}</p>
            <div class="itMeta">${money(APP.price)} ‚Ä¢ Estoque: ${p?.stock ?? "‚Äî"}</div>
            <div class="qtyRow">
              <div class="qty" aria-label="Quantidade">
                <button onclick="decQty('${id}')">‚àí</button>
                <span>${qty}</span>
                <button onclick="incQty('${id}')">+</button>
              </div>
              <button class="remove" onclick="removeItem('${id}')">Remover</button>
            </div>
          </div>
        </div>
      `;
    }).join("");
  }

  function addToCart(id){
    const p = APP.products.find(x=>x.id===id);
    if (!p) return;
    const current = APP.cart.get(id) || 0;
    if (p.stock <= 0){
      alert("Este produto est√° sem estoque no momento.");
      return;
    }
    if (current + 1 > p.stock){
      alert("Voc√™ j√° adicionou o m√°ximo dispon√≠vel em estoque.");
      return;
    }
    APP.cart.set(id, current + 1);
    persistCart();
    syncCartUI();
    openCart();
  }

  function incQty(id){
    const p = APP.products.find(x=>x.id===id);
    const current = APP.cart.get(id) || 0;
    if (current + 1 > (p?.stock ?? 9999)){
      alert("Voc√™ j√° adicionou o m√°ximo dispon√≠vel em estoque.");
      return;
    }
    APP.cart.set(id, current + 1);
    persistCart();
    syncCartUI();
  }

  function decQty(id){
    const current = APP.cart.get(id) || 0;
    if (current <= 1){
      APP.cart.delete(id);
    } else {
      APP.cart.set(id, current - 1);
    }
    persistCart();
    syncCartUI();
  }

  function removeItem(id){
    APP.cart.delete(id);
    persistCart();
    syncCartUI();
  }

  function openCart(){
    qs("#overlay").classList.add("show");
    qs("#drawer").classList.add("show");
  }
  function closeCart(){
    qs("#overlay").classList.remove("show");
    qs("#drawer").classList.remove("show");
  }

  function openProduct(id){
    const p = APP.products.find(x=>x.id===id);
    if (!p) return;
    qs("#dlgTitle").textContent = p.name;
    qs("#dlgCat").textContent = p.sub;
    qs("#dlgDesc").textContent = p.desc;
    qs("#dlgStock").textContent = p.stock;
    qs("#dlgMin").textContent = p.min;

    const meta = [];
    meta.push(`<span class="badge">${categoryLabel(p.category)}</span>`);
    meta.push(stockBadge(p));
    (p.benefits||[]).slice(0,4).forEach(b=>meta.push(`<span class="badge">${b}</span>`));
    qs("#dlgMeta").innerHTML = meta.join("");

    const img = qs("#dlgImg");
    const ph = qs("#dlgPh");
    img.style.display="none"; ph.style.display="block";
    img.src = p.img || "";
    img.onload = ()=>{ img.style.display="block"; ph.style.display="none"; };
    img.onerror = ()=>{ img.style.display="none"; ph.style.display="block"; };

    qs("#dlgAdd").onclick = ()=>addToCart(p.id);
    qs("#dlgWhats").onclick = ()=>whatsSingle(p.id);

    qs("#dlgProduct").showModal();
  }

  function closeDlg(id){ qs(id).close(); }

  function whatsLink(message){
    const txt = encodeURIComponent(message);
    return `https://wa.me/${APP.whatsapp}?text=${txt}`;
  }

  function whatsHuman(){
    const msg =
`Ol√°! Vim pelo site da ${APP.storeName}.
Quero atendimento humano, por favor üòä

Meu pedido/d√∫vida:`;
    window.open(whatsLink(msg), "_blank");
  }

  function whatsSingle(id){
    const p = APP.products.find(x=>x.id===id);
    if (!p) return;
    const msg =
`Ol√°! Vim pelo site da ${APP.storeName} üòä
Quero comprar:

‚Ä¢ ${p.name}
‚Ä¢ Quantidade: 1
‚Ä¢ Pre√ßo: ${money(APP.price)}

Pode me atender, por favor?`;
    window.open(whatsLink(msg), "_blank");
  }

  function checkoutOpen(){
    if (cartCount() === 0){
      alert("Seu carrinho est√° vazio.");
      return;
    }
    // pr√©-preencher
    const saved = loadCheckoutDraft();
    qs("#ckName").value = saved.name || "";
    qs("#ckMode").value = saved.mode || "Retirada";
    qs("#ckAddress").value = saved.address || "";
    qs("#ckPay").value = saved.pay || "PIX";
    qs("#ckObs").value = saved.obs || "";

    qs("#dlgCheckout").showModal();
  }

  function checkoutSend(){
    if (cartCount() === 0){
      alert("Seu carrinho est√° vazio.");
      return;
    }

    const name = qs("#ckName").value.trim();
    const mode = qs("#ckMode").value;
    const address = qs("#ckAddress").value.trim();
    const pay = qs("#ckPay").value;
    const obs = qs("#ckObs").value.trim();

    if (!name){
      alert("Por favor, informe seu nome üôÇ");
      return;
    }
    if (mode === "Entrega" && address.length < 8){
      alert("Para entrega, informe um endere√ßo completo üôÇ");
      return;
    }

    saveCheckoutDraft({name, mode, address, pay, obs});

    const lines = [];
    lines.push(`Ol√°! Vim pelo site da ${APP.storeName} üòä`);
    lines.push(`Quero finalizar meu pedido:`);
    lines.push("");
    lines.push(`üì¶ Itens:`);

    for (const [id, qty] of APP.cart.entries()){
      const p = APP.products.find(x=>x.id===id);
      lines.push(`‚Ä¢ ${p?.name || id} ‚Äî Qtd: ${qty} ‚Äî ${money(APP.price)} cada`);
    }

    lines.push("");
    lines.push(`üí∞ Total: ${money(cartTotal())}`);
    lines.push("");
    lines.push(`üë§ Nome: ${name}`);
    lines.push(`üöö Forma: ${mode}`);
    if (mode === "Entrega") lines.push(`üìç Endere√ßo: ${address}`);
    lines.push(`üí≥ Pagamento: ${pay}`);
    if (obs) lines.push(`üìù Obs: ${obs}`);

    window.open(whatsLink(lines.join("\n")), "_blank");
  }

  // Persist√™ncia (Carrinho + Avalia√ß√µes + Checkout)
  const LS_CART = "cm_cart_v1";
  const LS_REV  = "cm_reviews_v1";
  const LS_CK   = "cm_checkout_v1";

  function persistCart(){
    const obj = Array.from(APP.cart.entries());
    localStorage.setItem(LS_CART, JSON.stringify(obj));
  }
  function loadCart(){
    try{
      const raw = localStorage.getItem(LS_CART);
      if (!raw) return;
      const arr = JSON.parse(raw);
      APP.cart = new Map(arr);
    }catch(e){}
  }
  function saveCheckoutDraft(data){
    localStorage.setItem(LS_CK, JSON.stringify(data));
  }
  function loadCheckoutDraft(){
    try{
      const raw = localStorage.getItem(LS_CK);
      return raw ? JSON.parse(raw) : {};
    }catch(e){ return {}; }
  }

  // Reviews
  function buildStars(){
    const row = qs("#starRow");
    row.innerHTML = "";
    // 0 a 5 (0 = nenhuma estrela)
    for (let i=0;i<=5;i++){
      const b = document.createElement("button");
      b.className = "starBtn";
      b.type = "button";
      b.textContent = i === 0 ? "0" : "‚òÖ";
      b.title = i === 0 ? "0 estrelas" : `${i} estrela(s)`;
      b.setAttribute("aria-label", b.title);
      b.onclick = ()=>setStars(i);
      row.appendChild(b);
    }
    setStars(0);
  }
  function setStars(n){
    APP.reviewStars = n;
    const btns = qsa("#starRow .starBtn");
    btns.forEach((b, idx)=>{
      const val = idx; // idx 0..5
      if (val === 0){
        b.classList.toggle("on", n===0);
        b.textContent = "0";
      } else {
        b.classList.toggle("on", val<=n && n>0);
        b.textContent = "‚òÖ";
      }
    });
    qs("#starHelp").textContent = `Selecionado: ${n} estrela(s).`;
  }

  function loadReviews(){
    try{
      const raw = localStorage.getItem(LS_REV);
      return raw ? JSON.parse(raw) : { site:[], loja:[] };
    }catch(e){
      return { site:[], loja:[] };
    }
  }
  function saveReviews(data){
    localStorage.setItem(LS_REV, JSON.stringify(data));
  }
  function renderReviews(){
    const data = loadReviews();
    const list = data[APP.reviewTab] || [];
    const box = qs("#revList");
    if (list.length === 0){
      box.innerHTML = `<div class="hint">Nenhuma avalia√ß√£o ainda. Seja o(a) primeiro(a) üôÇ</div>`;
    }else{
      box.innerHTML = list.slice().reverse().map(r=>{
        const stars = r.stars === 0 ? "0" : "‚òÖ".repeat(r.stars);
        return `
          <div class="rev">
            <div class="revTop">
              <strong>${escapeHtml(r.name || "Cliente")}</strong>
              <span>${stars} ‚Ä¢ ${new Date(r.ts).toLocaleString("pt-BR")}</span>
            </div>
            <p>${escapeHtml(r.text)}</p>
          </div>
        `;
      }).join("");
    }

    // M√©dia
    const all = list;
    if (!all.length){
      qs("#avgInfo").textContent = "M√©dia: ‚Äî";
    }else{
      const avg = all.reduce((a,b)=>a+b.stars,0)/all.length;
      qs("#avgInfo").textContent = `M√©dia: ${avg.toFixed(1)} ‚òÖ (${all.length})`;
    }
  }

  function sendReview(){
    const name = qs("#revName").value.trim();
    const text = qs("#revText").value.trim();
    const stars = APP.reviewStars;

    if (text.length < 4){
      alert("Escreva um coment√°rio um pouquinho maior üôÇ");
      return;
    }
    if (stars < 0 || stars > 5){
      alert("Selecione de 0 a 5 estrelas.");
      return;
    }

    const data = loadReviews();
    data[APP.reviewTab] = data[APP.reviewTab] || [];
    data[APP.reviewTab].push({ name, text, stars, ts: Date.now() });
    saveReviews(data);

    qs("#revText").value = "";
    setStars(0);
    renderReviews();
    alert("Avalia√ß√£o enviada! Obrigado üíñ");
  }

  function clearReviews(){
    if (!confirm("Tem certeza que quer apagar as avalia√ß√µes salvas neste aparelho?")) return;
    saveReviews({ site:[], loja:[] });
    renderReviews();
  }

  function escapeHtml(s){
    return (s||"").replace(/[&<>"']/g, m=>({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;" }[m]));
  }

  // Events
  function init(){
    qs("#waShow").textContent = "+55 15 97407-2640";

    loadCart();
    renderProducts();
    syncCartUI();

    // Search
    qs("#search").addEventListener("input", (e)=>{
      APP.filters.q = e.target.value || "";
      renderProducts();
    });

    // Categories
    qsa(".chip").forEach(ch=>{
      ch.addEventListener("click", ()=>{
        qsa(".chip").forEach(x=>x.classList.remove("active"));
        ch.classList.add("active");
        APP.filters.cat = ch.dataset.cat;
        renderProducts();
      });
    });

    // Top buttons
    qs("#btnCart").onclick = ()=>{ syncCartUI(); openCart(); };
    qs("#btnCloseCart").onclick = closeCart;
    qs("#overlay").onclick = closeCart;

    qs("#btnHuman").onclick = whatsHuman;
    qs("#btnHuman2").onclick = whatsHuman;
    qs("#btnWhatsTop").onclick = whatsHuman;
    qs("#btnWhatsMini").onclick = whatsHuman;

    qs("#btnCheckout").onclick = ()=>{ closeCart(); checkoutOpen(); };

    qs("#btnBest").onclick = ()=>{
      window.scrollTo({top: qs("main").offsetTop - 70, behavior:"smooth"});
    };
    qs("#btnReviewsGo").onclick = ()=>{
      window.scrollTo({top: qs("#avaliacoes").offsetTop - 70, behavior:"smooth"});
    };

    // Product dialog
    qs("#dlgClose").onclick = ()=>closeDlg("#dlgProduct");

    // Checkout dialog
    qs("#ckClose").onclick = ()=>closeDlg("#dlgCheckout");
    qs("#ckBackToCart").onclick = ()=>{ closeDlg("#dlgCheckout"); openCart(); };
    qs("#ckSend").onclick = checkoutSend;

    // Reviews
    buildStars();
    renderReviews();

    // Tabs
    qsa(".tab").forEach(t=>{
      t.addEventListener("click", ()=>{
        qsa(".tab").forEach(x=>x.classList.remove("active"));
        t.classList.add("active");
        APP.reviewTab = t.dataset.revtab;
        renderReviews();
      });
    });
    qs("#btnSendReview").onclick = sendReview;
    qs("#btnClearReviews").onclick = clearReviews;
  }

  // Expose to inline handlers
  window.addToCart = addToCart;
  window.openProduct = openProduct;
  window.incQty = incQty;
  window.decQty = decQty;
  window.removeItem = removeItem;

  init();
</script>
</body>
</html>
